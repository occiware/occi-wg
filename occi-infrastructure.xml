<?xml version="1.0" encoding="UTF-8"?>
<article version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>OCCI Infrastructure</title>

  <section>
    <title>Introduction</title>

    <para>OCCI Infrastructure defines three kinds and various extensions
    relating to management of cloud infrastructure services (IaaS). With the
    help of these kinds and possible extensions Virtual Machine deplyoment,
    management and monitoring can be described.</para>
  </section>

  <section>
    <title>Example</title>

    <screen>&gt; GET /us-east/webapp/vm01 HTTP/1.1
&gt; User-Agent: occi-client/1.0 (linux) libcurl/7.19.4 OCCI/1.0
&gt; Host: cloud.example.com
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 200 OK
&lt; Date: Sat, 10 Oct 2009 12:56:51 GMT
&lt; Content-Type: application/ovf
&lt; Link: &lt;/us-east/webapp/vm01;start&gt;;
&lt;       rel="http://purl.org/occi/action#start";
&lt;       title="Start"
&lt; Link: &lt;/networks/dmz&gt;;
&lt;       rel="http://purl.org/occi/kind#network";
&lt;       title="DMZ";
&lt;       address="192.168.0.1/24";
&lt;       interface="eth0"
&lt; Link: &lt;/storage/disk1&gt;;
&lt;       rel="http://purl.org/occi/kind#storage";
&lt;       title="Quorum Disk";
&lt;       device="sda"
&lt; Link: &lt;/us-east/webapp/build.pdf&gt;;
&lt;       rel="related";
&lt;       title="Documentation";
&lt;       type="application/pdf"
&lt; Category: compute;
&lt;       label="Compute Resource";
&lt;       scheme="http://purl.org/occi/kind#"
&lt; Server: occi-server/1.0 (linux) OCCI/1.0
&lt; Connection: close
&lt;
&lt; &lt;?xml version="1.0" encoding="UTF-8"?&gt;
...</screen>
  </section>

  <section>
    <title>Kinds</title>

    <para>Cloud infrastructure can be modeled using three primary kinds:
    <computeroutput>compute</computeroutput>,
    <computeroutput>network</computeroutput> and
    <computeroutput>storage</computeroutput>.</para>

    <table>
      <title>Kinds</title>

      <tgroup cols="3">
        <colspec align="center" />

        <thead>
          <row>
            <entry align="left">Kind</entry>

            <entry>URI</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry
            align="left"><computeroutput>compute</computeroutput></entry>

            <entry><uri>http://purl.org/occi/kind#compute</uri></entry>

            <entry>Information processing resources</entry>
          </row>

          <row>
            <entry
            align="left"><computeroutput>network</computeroutput></entry>

            <entry><uri>http://purl.org/occi/kind#network</uri></entry>

            <entry>Interconnection resources</entry>
          </row>

          <row>
            <entry
            align="left"><computeroutput>storage</computeroutput></entry>

            <entry><uri>http://purl.org/occi/kind#storage</uri></entry>

            <entry>Recorded information resources</entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <section>
      <title>Compute</title>

      <para>A compute resource is capable of conducting computations (e.g. a
      virtual machine).</para>

      <section>
        <title>Attributes</title>

        <para>The following attributes apply to this kind:</para>

        <table>
          <title>Compute Attributes</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Attribute</entry>

                <entry>Type</entry>

                <entry>Description</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>occi.compute.architecture</computeroutput></entry>

                <entry>Enum (x86, x64)</entry>

                <entry>CPU Architecture (e.g. x64)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.compute.cores</computeroutput></entry>

                <entry>Float</entry>

                <entry>Number of CPU cores (e.g. 1, 2)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.compute.hostname</computeroutput></entry>

                <entry>String</entry>

                <entry>Valid DNS hostname for the resource.</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.compute.speed</computeroutput></entry>

                <entry>Float (10^9 Hertz)</entry>

                <entry>Clock speed in gigahertz (e.g. 2.4)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.compute.memory</computeroutput></entry>

                <entry>Float (10^9 bytes)</entry>

                <entry>RAM in megabytes (e.g. 16, 0.512)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.compute.status</computeroutput></entry>

                <entry>Enum (active, inactive, suspended)</entry>

                <entry>Status of the compute resource</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <section>
        <title>Actions</title>

        <para>A number of common states are defined:</para>

        <table>
          <title>Compute Actions</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Actions</entry>

                <entry>Target State</entry>

                <entry>Parameters</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#start</computeroutput></entry>

                <entry><computeroutput>active</computeroutput></entry>

                <entry>None</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#stop</computeroutput></entry>

                <entry><computeroutput>inactive</computeroutput></entry>

                <entry><parameter>type</parameter> Enum
                (<parameter>graceful</parameter> [default],
                <parameter>acpioff</parameter>,
                <parameter>poweroff</parameter>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#restart</computeroutput></entry>

                <entry><computeroutput>active</computeroutput></entry>

                <entry><parameter>type</parameter> Enum
                (<parameter>graceful</parameter> [default],
                <parameter>warm</parameter>,
                <parameter>cold</parameter>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#suspend</computeroutput></entry>

                <entry><computeroutput>suspended</computeroutput></entry>

                <entry><parameter>type</parameter> Enum
                (<parameter>hibernate</parameter> [default],
                <parameter>suspend</parameter>)</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <remark>TODO: Check supported suspend states.</remark>
      </section>
    </section>

    <section>
      <title>Network</title>

      <para>A network resource is capable of transferring data (e.g. a virtual
      network or VLAN).</para>

      <section>
        <title>Attributes</title>

        <para>The following attributes apply to this kind:</para>

        <table>
          <title>Network Attributes</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Attribute</entry>

                <entry>Type</entry>

                <entry>Description</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>occi.network.vlan</computeroutput></entry>

                <entry>Integer (0..4095)</entry>

                <entry>802.1q VLAN ID (e.g.
                <computeroutput>4095</computeroutput>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.network.label</computeroutput></entry>

                <entry>Token</entry>

                <entry>Tag based VLANs (e.g.
                <computeroutput>external-dmz</computeroutput>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.network.address</computeroutput></entry>

                <entry>IPv4 or IPv6 Address (in CIDR notation)</entry>

                <entry>Internet Protocol (IP) network address (e.g.
                <computeroutput>192.168.0.1/24</computeroutput>,
                <computeroutput>fc00::/7</computeroutput>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.network.gateway</computeroutput></entry>

                <entry>IPv4 or IPv6 Address (in CIDR notation)</entry>

                <entry>Internet Protocol (IP) network address (e.g.
                <computeroutput>192.168.0.1/24</computeroutput>,
                <computeroutput>fc00::1/64</computeroutput>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.network.allocation</computeroutput></entry>

                <entry>Enum (<computeroutput>auto</computeroutput>,
                <computeroutput>dhcp</computeroutput>,
                <computeroutput>manual</computeroutput>)</entry>

                <entry><para>Address allocation mechanism:</para><itemizedlist>
                    <listitem>
                      <para><computeroutput>auto</computeroutput> is handled
                      automatically by infrastructure and/or guest
                      agent</para>
                    </listitem>

                    <listitem>
                      <para><computeroutput>dhcp</computeroutput> uses
                      network-based allocation protocol(s)</para>
                    </listitem>

                    <listitem>
                      <para><computeroutput>manual</computeroutput> requires
                      preconfiguration or manual allocation</para>
                    </listitem>
                  </itemizedlist></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <section>
        <title>Actions</title>

        <para>A number of common states are defined:</para>

        <table>
          <title>Network Actions</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Actions</entry>

                <entry>Target State</entry>

                <entry>Parameters</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#down</computeroutput></entry>

                <entry><computeroutput>inactive</computeroutput></entry>

                <entry>None</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#up</computeroutput></entry>

                <entry><computeroutput>active</computeroutput></entry>

                <entry>None</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>

    <section>
      <title>Storage</title>

      <para>A storage resource is capable of mass storage of data (e.g. a
      virtual hard drive).</para>

      <section>
        <title>Attributes</title>

        <para>The following attributes apply to this kind:</para>

        <table>
          <title>Storage Attributes</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Attribute</entry>

                <entry>Type</entry>

                <entry>Description</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>occi.storage.size</computeroutput></entry>

                <entry>Float (10^9 bytes)</entry>

                <entry>Drive size in gigabytes (e.g.
                <computeroutput>40</computeroutput>,
                <computeroutput>0.00144</computeroutput>)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>occi.storage.status</computeroutput></entry>

                <entry>Enum (<parameter>online</parameter>,
                <parameter>offline</parameter>,
                <parameter>degraded</parameter>)</entry>

                <entry>Currenty status of the storage resource</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <section>
        <title>Actions</title>

        <para>A number of common states are defined:</para>

        <table>
          <title>Storage Actions</title>

          <tgroup cols="3">
            <colspec align="center" />

            <thead>
              <row>
                <entry align="left">Actions</entry>

                <entry>Target State</entry>

                <entry>Parameters</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#backup</computeroutput></entry>

                <entry><computeroutput>unchanged</computeroutput></entry>

                <entry>None</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#offline</computeroutput></entry>

                <entry><computeroutput>offline</computeroutput></entry>

                <entry>None</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#online</computeroutput></entry>

                <entry><computeroutput>online</computeroutput></entry>

                <entry>None</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#resize</computeroutput></entry>

                <entry><computeroutput>unchanged</computeroutput></entry>

                <entry><parameter>size</parameter> float (10^9 bytes)</entry>
              </row>

              <row>
                <entry
                align="left"><computeroutput>http://purl.org/occi/action#snapshot</computeroutput></entry>

                <entry><computeroutput>unchanged</computeroutput></entry>

                <entry>None</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
  </section>

  <section>
    <title>Extensions</title>

    <para>Various extensions provide for more advanced management
    functionality such as billing, monitoring and reporting.</para>
  </section>

  <bibliography>
    <bibliomixed>Informative References</bibliomixed>

    <biblioentry xreflabel="VHD" xml:id="infrastructure-xva">
      <title>CTX121652 Overview of the Open Virtualisation Format</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://support.citrix.com/article/CTX121652</uri></address>

      <author>
        <orgname>Citrix Systems</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="RAW" xml:id="infrastructure-raw">
      <title>Wikipedia - Disk Image</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://en.wikipedia.org/wiki/Disk_image</uri></address>

      <author>
        <orgname>Wikipedia</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="OVF" xml:id="infrastructure-ovf">
      <title>DSP0243 Open Virtualisation Format (OVF)</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://www.dmtf.org/standards/published_documents/DSP0243_1.0.0.pdf</uri></address>

      <author>
        <orgname>DMTF</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="ISO" xml:id="infrastructure-iso">
      <title>Wikipedia - ISO 9660</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://en.wikipedia.org/wiki/ISO_9660</uri></address>

      <author>
        <orgname>Wikipedia</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="QCOW2" xml:id="infrastructure-qcow2">
      <title>QCOW2 Image Format</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://www.gnome.org/~markmc/qcow-image-format.html</uri></address>

      <author>
        <orgname>Mark McLoughlin</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="VMDK" xml:id="infrastructure-vmdk">
      <title>VMware Virtual Disk Format</title>

      <address><uri xlink:href="http://www.vmware.com/app/vmdk/?src=vmdk">http://www.vmware.com/app/vmdk/?src=vmdk</uri></address>

      <author>
        <orgname>VMware</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="VDI" xml:id="infrastructure-vdi">
      <title>Virtualbox Source Code - Virtual Disk Image (VDI)</title>

      <address><uri
          xlink:href="http://www.virtualbox.org/svn/vbox/trunk/src/VBox/Devices/Storage/VDICore.h">http://www.virtualbox.org/svn/vbox/trunk/src/VBox/Devices/Storage/VDICore.h</uri></address>

      <author>
        <orgname>Sun Microsystems</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="VHD" xml:id="infrastructure-vhd">
      <title>Microsoft Virtual Hard Disk (VHD) Image Format
      Specification</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://technet.microsoft.com/en-us/virtualserver/bb676673.aspx</uri></address>

      <author>
        <orgname>Microsoft</orgname>
      </author>
    </biblioentry>

    <biblioentry xreflabel="Wikipedia" xml:id="infrastructure-bandwidths">
      <title>Wikipedia: List of device bandwidths</title>

      <address><uri
          xlink:href="http://en.wikipedia.org/wiki/List_of_device_bandwidths">http://en.wikipedia.org/wiki/List_of_device_bandwidths</uri></address>

      <author>
        <orgname>Wikipedia</orgname>
      </author>
    </biblioentry>
  </bibliography>
</article>
